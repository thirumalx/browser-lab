<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Testing Data Generator</title>
<link rel="stylesheet" href="../../assets/css/header.css">

<style>
body {
    font-family: "Segoe UI", system-ui;
    background: #f8fafc;
    padding: 2px;
    color: #1f2937;
}

h2 { margin-bottom: 10px; }

.toolbar {
    display: flex;
    gap: 10px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

select, button {
    padding: 8px 14px;
    border-radius: 8px;
    border: 1px solid #d1d5db;
    font-size: 14px;
}

button {
    border: none;
    background: linear-gradient(135deg, #2563eb, #1d4ed8);
    color: white;
    font-weight: 600;
    cursor: pointer;
}

button.secondary {
    background: #e5e7eb;
    color: #111827;
}

textarea {
    width: 100%;
    height: 70vh;
    font-family: Consolas, monospace;
    padding: 12px;
    border-radius: 10px;
    border: 1px solid #d1d5db;
    resize: none;
}
</style>
</head>

<body data-tool="Testing Data Generator">
<script src="../../assets/js/header.js"></script>

<h2>ðŸ§ª Testing Data Generator</h2>

<div class="toolbar">
    <select id="type">
        <option value="email">Email</option>
        <option value="password">Password</option>
        <option value="number">Number</option>
        <option value="username">Username</option>
        <option value="sql">SQL Injection</option>
    </select>

    <select id="mode">
        <option value="valid">Valid</option>
        <option value="invalid">Invalid</option>
        <option value="boundary">Boundary</option>
    </select>

    <button onclick="generate()">âš¡ Generate</button>
    <button onclick="copyData()">ðŸ“‹ Copy</button>
    <button onclick="clearAll()" class="secondary">ðŸ§¹ Clear</button>
</div>

<textarea id="output" placeholder="Generated test data will appear here..."></textarea>

<script>
const output = document.getElementById("output");

/* Escape HTML to prevent execution */
function escapeHtml(str) {
    return str
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
}

function generate() {
    const type = document.getElementById("type").value;
    const mode = document.getElementById("mode").value;

    const data = generators[type][mode];

    // ðŸ”’ Escape all outputs before rendering
    output.value = data.map(escapeHtml).join("\n");
}

const generators = {
    email: {
        valid: [
            "user@test.com",
            "first.last@domain.in"
        ],
        invalid: [
            "user@",
            "user@domain",
            "@test.com",
            "user test@test.com"
        ],
        boundary: [
            "a@b.co",
            "verylongemailaddressname1234567890@testdomain.com"
        ]
    },

    password: {
        valid: [
            "Abc@1234",
            "Strong#Pass9"
        ],
        invalid: [
            "123456",
            "password",
            "abc"
        ],
        boundary: [
            "A1@a",
            "A".repeat(64) + "1@"
        ]
    },

    number: {
        valid: ["1", "99", "1000"],
        invalid: ["-1", "abc", "12.12.12"],
        boundary: ["0", "2147483647", "-2147483648"]
    },

    username: {
        valid: ["user_1", "testUser"],
        invalid: ["us", "user!", "user name"],
        boundary: ["a", "a".repeat(30)]
    },

    sql: {
        valid: ["normalInput"],
        invalid: [
            "' OR '1'='1",
            "'; DROP TABLE users; --"
        ],
        boundary: ["''", "'"]
    }
};

function copyData() {
    if (output.value) navigator.clipboard.writeText(output.value);
}

function clearAll() {
    output.value = "";
}
</script>


</body>
</html>
