<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fake JSON Generator</title>
<link rel="stylesheet" href="../../assets/css/header.css">

<style>
body {
    font-family: "Segoe UI", system-ui;
    background: #f8fafc;
    padding: 2px;
    color: #1f2937;
}

h2 {
    margin-bottom: 10px;
}

.toolbar {
    display: flex;
    gap: 10px;
    margin-bottom: 12px;
    flex-wrap: wrap;
}

button {
    padding: 8px 14px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    background: linear-gradient(135deg, #2563eb, #1d4ed8);
    color: #fff;
}

button.secondary {
    background: #e5e7eb;
    color: #111827;
}

input, select {
    padding: 8px;
    border-radius: 8px;
    border: 1px solid #d1d5db;
}

.container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
}

textarea {
    width: 100%;
    height: 70vh;
    font-family: Consolas, monospace;
    padding: 12px;
    border-radius: 10px;
    border: 1px solid #d1d5db;
    resize: none;
}

.fields {
    border: 1px solid #d1d5db;
    border-radius: 10px;
    padding: 12px;
    background: #fff;
}

.field-row {
    display: grid;
    grid-template-columns: 1fr 1fr auto;
    gap: 8px;
    margin-bottom: 8px;
}
</style>
</head>

<body data-tool="Fake JSON Generator">
<script src="../../assets/js/header.js"></script>

<h2>ðŸ§ª Fake JSON / Mock Data Generator</h2>

<div class="toolbar">
    <label>Records:
        <input type="number" id="recordCount" value="5" min="1" max="1000">
    </label>
    <button onclick="addField()">âž• Add Field</button>
    <button onclick="generate()">âš¡ Generate</button>
    <button onclick="copyJson()">ðŸ“‹ Copy</button>
    <button onclick="clearAll()" class="secondary">ðŸ§¹ Clear</button>
</div>

<div class="container">
    <div class="fields" id="fields">
        <!-- Fields added dynamically -->
    </div>

    <textarea id="output" placeholder="Generated JSON will appear here..."></textarea>
</div>

<script>
const fieldsDiv = document.getElementById("fields");
const output = document.getElementById("output");

/* Default fields */
addField("id", "number");
addField("name", "name");
addField("email", "email");
addField("createdOn", "date");
addField("isActive", "boolean");
addField("uuid", "uuid");

function addField(name = "", type = "string") {
    const row = document.createElement("div");
    row.className = "field-row";
    row.innerHTML = `
        <input placeholder="field name" value="${name}">
        <select>
            <option value="string">String</option>
            <option value="number">Number</option>
            <option value="boolean">Boolean</option>
            <option value="name">Full Name</option>
            <option value="email">Email</option>
            <option value="phone">Phone</option>
            <option value="uuid">UUID</option>
            <option value="date">ISO Date</option>
        </select>
        <button class="secondary" onclick="this.parentElement.remove()">âœ–</button>
    `;
    row.querySelector("select").value = type;
    fieldsDiv.appendChild(row);
}

function generate() {
    const count = parseInt(document.getElementById("recordCount").value);
    const records = [];

    for (let i = 0; i < count; i++) {
        const obj = {};
        document.querySelectorAll(".field-row").forEach(row => {
            const key = row.children[0].value.trim();
            const type = row.children[1].value;
            if (!key) return;
            obj[key] = fakeValue(type, i);
        });
        records.push(obj);
    }

    output.value = JSON.stringify(records, null, 4);
}

function fakeValue(type, index) {
    switch (type) {
        case "number": return index + 1;
        case "boolean": return Math.random() > 0.5;
        case "name": return randomFrom(["Thirumal","Alexandra Daddario","Jessica Alba",
        "Jennifer Lawrence", "Jenna Ortega", "Scarlett Johansson", "Gal Gadot", "Emma Watson", "Natalie Portman", "Margot Robbie", "Charlize Theron", "Kate Winslet", "PenÃ©lope Cruz", "Emma Stone", "Jennifer Aniston", "Cameron Diaz", "Sandra Bullock", "Mila Kunis", "Zoe Saldana", "Anne Hathaway", "Meghan Fox", "Elizabeth Olsen"]); ;
        case "email": return `user${index + 1}@example.com`;
        case "phone": return "+91-" + Math.floor(9000000000 + Math.random() * 999999999);
        case "uuid": return crypto.randomUUID();
        case "date": return new Date().toISOString();
        default: return "sample_text";
    }
}

function randomFrom(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
}

function copyJson() {
    if (!output.value) return;
    navigator.clipboard.writeText(output.value);
}

function clearAll() {
    output.value = "";
}
</script>

</body>
</html>
